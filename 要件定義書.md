# 卒業旅行（ウィーン・ドイツ）管理アプリ 要件定義書

## 1. プロジェクト概要

- **目的**: ウィーン・ドイツへの卒業旅行（2026年2月）における「プラン・スケジュール・会計」を、参加者4人で効率的かつ楽しく管理する。
- **コンセプト**: 「ウィーンの伝統的でおしゃれな雰囲気」と「究極の使いやすさ（閲覧・入力の即時性）」の両立。
- **ターゲットユーザー**: 青山、浅田、市川、鬼澤の4名。
- **プラットフォーム**: スマートフォン向け Webアプリ (PWA対応)。

## 2. デザイン & UIコンセプト

- **世界観**: ウィーン分離派（Vienna Secession）、カフェ・ザッハのような高級感。
- **配色**: ボルドー（ワインレッド）、ゴールド、クリーム、ダークブラウン。
- **フォント**: 明朝体（Serif）を基調としたエレガントなデザイン。
- **UI構造**: 「閲覧」と「入力」のスピードを最優先する。
- **ナビゲーション**: シンプルな2タブ（スケジュール / 会計）＋ FAB（フローティングアクションボタン）。
- **メニュー**: 頻度の低い機能（行きたいリスト、情報、設定）はドロワーまたはヘッダーメニューに格納。

## 3. 機能要件

### 3.1 スケジュール管理機能（ホーム画面）
- **最重要要件**: 「今、何をするか」「どこへ行くか」が0.5秒でわかること。
- **タイムライン表示**:
    - 1日の予定を時系列リスト表示。
    - 現在時刻に合わせて自動スクロール（または強調表示）。
    - 前日・翌日へのスムーズな移動（日付ピッカー）。
- **表示項目**: 時間（開始 - 終了）、場所名、タグ（観光、食事、移動など）。
- **地図即時連携**: 住所部分または専用アイコンのタップで、即座に外部地図アプリ（Google Maps等）を起動する。
- **編集・操作**:
    - リストからの編集・削除が可能。
    - 新規登録時は「日時」「場所」「タグ」「メモ」「URL/住所」を保存。

### 3.2 会計・割り勘管理機能
- **最重要要件**: 支払い発生時に「素早く」記録でき、最終的な貸し借りが一目でわかること。
- **新規登録（FABから即起動）**:
    - **入力項目**: 金額、通貨（EUR/JPY）、用途（スケジュール連携または自由入力）。
    - **デフォルト設定**:
        - 「誰が払った」 → ログインユーザー（自分） を初期選択。
        - 「誰のために」 → 全員 を初期選択。
    - **個別指定**: 「誰のために」は複数選択可能（例: 青山と鬼澤の分だけ払った）。
- **ダッシュボード（閲覧）**:
    - **通貨別管理**: EURとJPYはレート換算せず、別々に集計・表示する。
    - **最終精算額の表示**:
        - ロジック: 支払額 - 利用額（消費額）
        - 表示: 各メンバーが「いくらプラス（受け取り）」か「いくらマイナス（支払い）」かのみを表示。
- **初期設定・調整**: 前回の旅行などによる「初期残高（繰越金）」を入力可能にする。

### 3.3 行きたい場所リスト（Wish List）
- **機能**: 気になった場所やイベントをとりあえず登録（CRUD）。タグ付け、ソート機能。
- **スケジュール化**: リストの項目を選択し、日時を指定してスケジュールへ移動（コピー）する機能。

### 3.4 情報・ナレッジ管理機能
- **機能**: 調べた情報をストックする。
- **HTML表示**: Gemini等で作成したインフォグラフィック（HTML/CSS）をフルスクリーンでレンダリング・閲覧可能にする。
- **テキストメモの保存**: 画像のアップロードは行わない（ストレージ節約）。

## 4. 非機能要件

- **レスポンス**: PWAとしてオフライン（キャッシュ）も意識しつつ、基本は高速な画面遷移。
- **認証**: 厳密なログインは不要。URLを知っている、または簡易的な共通パスコード程度でアクセス可能にする。
- **コスト**: 開発・運用ともに無料の範囲で収める。

## 5. 技術スタック（予定）

- **Frontend**: Next.js (App Router)
- **Styling**: Tailwind CSS (テーマカラーを定義して使用)
- **Database**: Supabase (PostgreSQL)
- **Hosting**: Vercel

## 6. データモデル概要

- **Users**: 4名の固定メンバー。
- **Schedules**: 日時、場所、住所、タグ等。
- **Transactions**: 支払者、金額、通貨、対象者（配列または中間テーブル）。
- **Wishes**: 場所名、ステータス、タグ等。
- **Infos**: タイトル、HTMLコンテンツ/テキスト。